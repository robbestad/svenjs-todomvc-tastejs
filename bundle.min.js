!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Svenjs=e():t.Svenjs=e()}(this,function(){return function(t){function e(n){if(s[n])return s[n].exports;var i=s[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";var n=s(1),i=s(2),r=document.getElementById("myapp");n.render(i,r)},function(t,e,s){!function(e,s){t.exports=s()}(this,function(){return function(t){function e(n){if(s[n])return s[n].exports;var i=s[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){var n;(function(t){"use strict";function i(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function r(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":"undefined"==typeof t?"undefined":i(t)}var o=s(6),a=s(5),c=s(3),l=s(11),d=s(4),u=s(2),f=s(8),h=s(1),p={version:o.version,create:a.create,setState:d.setState,createStore:f.createStore,render:c.render,renderToString:c.renderToString,lifeCycle:u.lifeCycle,timeTravel:l.timeTravel,deepCopy:h.deepCopy};"object"===r(t)&&null!=t&&t.exports?t.exports=p:(n=function(){return p}.call(e,s,e,t),!(void 0!==n&&(t.exports=n)))}).call(e,s(12)(t))},function(t,e){"use strict";e.deepCopy=function(t){return JSON.parse(JSON.stringify(t))}},function(t,e,s){"use strict";var n=s(3);e.lifeCycle=function(t){var e=void 0;t._svenjs.rootNode&&(e=t._svenjs.rootNode);var s=document.querySelector("[sjxid='"+t.render().attrs.sjxid+"']");s&&(e=s),t.isMounted&&e&&((0,n.render)(t,e),t.hasOwnProperty("componentDidUpdate")&&t.componentDidUpdate.apply(t))}},function(t,e,s){"use strict";var n=s(7),i=function(t,e){return e.appendChild(t)},r=Object.prototype.hasOwnProperty,o=function(t,e){if(r.call(t,"children")&&(0,n.isArray)(t.children)&&t.children.forEach(function(t){("string"==typeof t||"number"==typeof t)&&e.appendChild(document.createTextNode(t))}),r.call(t,"attrs")){var s=t.attrs;for(var i in s)if("config"!==i&&"key"!==i&&("disabled"!==i||s[i]!==!1))if("class"==i||"className"==i)e.className=s[i].toString();else if((0,n.isFunction)(s[i])&&"on"==i.slice(0,2))e[i.toLowerCase()]=s[i];else{if("checked"===i&&(s[i]===!1||""===s[i]))continue;e.setAttribute(""+i,s[i].toString())}}return e},a=function(t){var e=document.createElement(t.tag);return o(t,e),e},c=function d(t,e){var s=void 0;return r.call(t,"children")&&(0,n.isArray)(t.children)&&t.children.forEach(function(t,o){var c=t.tag;(0,n.isArray)(t)?t.forEach(function(t,n){r.call(t,"sjxid")&&(t.attrs["universaljs-id"]=sjxid),s=a(t),d(t,s),i(s,e)}):"undefined"!=typeof c&&("strong"===t.tag||"input"===t.tag?(s=a(t),i(s,e),d(t,s)):(s=a(t),d(t,s),i(s,e)))}),e};e.renderToString=function(t,e){return l(t,e).innerHTML};var l=function(t,e){var s=document.createDocumentFragment(),n=document.createElement(t.tag);o(t,e.rootNode);var i=c(t,n);return s.appendChild(i),s};e.render=function(t,e){var s=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(!e)return"Error: no node to attach rendered HTML";(0,n.isObject)(t)&&(r.call(t,"_svenjs")||(t._svenjs={rootNode:!1}),t._svenjs.rootNode=e),e.innerHTML="";var i=void 0;i=(0,n.isObject)(s)?s:t.render(),e.appendChild(l(i,t._svenjs))}},function(t,e,s){"use strict";var n=s(10),i=s(9),r=s(2);e.setState=function(t,e){e.state=(0,n.saveState)(e,t),e.time=(0,i.saveHistory)(e,t),(0,r.lifeCycle)(e)}},function(t,e,s){"use strict";var n=s(4);e.create=function(t){return t._svenjs={rootNode:!1},t.isBound||(t.isBound=!0,t.setState=function(t){return(0,n.setState)(t,this)}),t.isMounted||(t.time={history:[],pos:-1},t.isMounted=!0,void 0!==t.initialState&&(t.state=t.initialState),"function"==typeof t.componentDidMount&&t.componentDidMount.apply(t)),t}},function(t,e){"use strict";e.version=function(){return"0.0.2-alpha"}},function(t,e){"use strict";var s={}.toString;e.isFunction=function(t){return"function"==typeof t},e.isObject=function(t){return"[object Object]"===s.call(t)},e.isString=function(t){return"[object String]"===s.call(t)},e.isArray=function(t){return"[object Array]"===s.call(t)},e.isDefined=function(t){return"undefined"!==s.call(t)}},function(t,e){"use strict";var s=[];e.createStore=function(t){return t.isMounted||(t.listenTo=function(t){s.push(t)},t.emit=function(t){s.forEach(function(e){e(t)})},"function"==typeof t.init&&t.init.apply(t)),t}},function(t,e,s){"use strict";var n=s(1);e.saveHistory=function(t,e){var s=void 0;return s=t.time?(0,n.deepCopy)(t.time):{history:[],pos:-1},s.history.splice(s.pos+1),s.history.push((0,n.deepCopy)(e)),s.pos++,s}},function(t,e,s){"use strict";var n=s(1);e.saveState=function(t,e){var s=(0,n.deepCopy)(e);return Object.freeze(s),s}},function(t,e,s){"use strict";var n=s(1),i=s(2);e.timeTravel=function(t,e){var s=t.time,r=t.state;s.pos+=e,t.state=r,r=(0,n.deepCopy)(s.history[s.pos]),t.state=r,t.render(r,t._svenjs.rootNode),(0,i.lifeCycle)(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])})},function(t,e,s){"use strict";var n=s(1),i=13,r=27,o=!1,a=!1,c=0,l=n.create({displayName:"TodoMVC App",initialState:{messages:[{id:1,message:"Answer all the mail",complete:!1,editing:!1},{id:2,message:"Get a cup of coffee",complete:!1,editing:!1}]},componentDidUpdate:function(){var t=document.getElementById("new-todo");null!==t&&a&&(a=!1,t.focus(),t.setSelectionRange(t.value.length,t.value.length))},componentDidMount:function(){var t=self.history===!0?self.getPath():window.location.hash.replace(/.*#\//,"");this.setState({messages:this.state.messages,url:t}),window.addEventListener("hashchange",this.onHashChange.bind(this),!1)},handleEditTodoKeyDown:function(t){return t.keyCode===r?void this.simpleResetEditing():void(t.keyCode===i&&(this.saveTodo(t),this.resetEditing(),t.preventDefault()))},handleNewTodoKeyDown:function(t,e){e.keyCode===i&&(this.addTodo(e),e.innerHTML="",document.getElementById(t).focus(),e.preventDefault())},onHashChange:function(){var t=self.history===!0?self.getPath():window.location.hash.replace(/.*#\//,"");this.resetEditing(),this.setState({messages:this.state.messages,url:t})},saveTodo:function(t){var e="undefined"==typeof t.srcElement?t.target.value:t.srcElement.value,s=this.state.messages.filter(function(t){return t.id===c&&(t.message=e),t});this.setState({messages:s,url:this.state.url})},addTodo:function(t){var e=this.state.messages,s=void 0,n="undefined"==typeof t.srcElement?t.target.value:t.srcElement.value;s=0===e.length?1:e[e.length-1].id,e.push({id:s+1,message:n,complete:!1,editing:!1}),this.setState({messages:e,url:this.state.url})},destroyMessage:function(t){var e=this.state.messages.filter(function(e){return e.id!==t.id});this.setState({messages:e})},destroyCompleted:function(){var t=this.state.messages.filter(function(t){return t.complete===!1});this.resetEditing(),this.setState({messages:t,url:this.state.url})},toggleOne:function(t,e){var s=this.state.messages.filter(function(e){return e.id===t.id&&(e.complete=!e.complete),e});this.resetEditing(),this.setState({messages:s,url:this.state.url})},simpleResetEditing:function(){var t=this.state.messages.map(function(t){return t.editing=!1,t});a=!1,this.setState({messages:t,url:this.state.url})},resetEditing:function(t){var e=!1,s=this.state.messages.map(function(t){return t.editing&&(e=!0),t.editing=!1,t});e?(a=!0,this.setState({messages:s,url:this.state.url})):a=!1},onDoubleClick:function(t,e){if(c=t.id,!t.complete){var s=this.state.messages.map(function(e){return e.editing=e.id===t.id?!e.editing:!1,e});this.setState({messages:s,url:this.state.url});var n=document.getElementsByClassName("edit active")[0];n.focus(),n.setSelectionRange(n.value.length,n.value.length)}},toggleAll:function(){o=!o;var t=this.state.messages.map(function(t){return t.complete=o,t});this.resetEditing(),this.setState({messages:t})},listTodos:function(){var t=this,e=this.state.messages.filter(function(e){switch(t.state.url){case"active":return!e.complete;case"completed":return e.complete;default:return!0}},this);return e.map(function(e){var s=e.message,n=!1,i="todo",r="edit";return e.editing&&(i="todo editing",r="edit active"),e.complete&&(s={tag:"del",attrs:{sjxid:"383.0836699344218"},children:[e.message]},n=!0),{tag:"li",attrs:{sjxid:"1834.6113478764892",className:i},children:[{tag:"div",attrs:{sjxid:"1656.2366508878767",className:"view"},children:[{tag:"input",attrs:{sjxid:"610.1132277399302",className:"toggle",type:"checkbox",checked:n,onClick:t.toggleOne.bind(t,e)}},{tag:"label",attrs:{sjxid:"954.7284925356507",ondblclick:t.onDoubleClick.bind(t,e)},children:[s]},{tag:"button",attrs:{sjxid:"1620.918971952051",className:"destroy",onClick:t.destroyMessage.bind(t,e)}}]},{tag:"input",attrs:{sjxid:"1166.3862792775035",className:r,type:"text",onKeyDown:t.handleEditTodoKeyDown.bind(t),value:e.message}}]}})},render:function(){var t=(this.state,""),e="",s="";return(""===this.state.url||"all"===this.state.url)&&(t="selected"),"active"===this.state.url&&(e="selected"),"completed"===this.state.url&&(s="selected"),{tag:"section",attrs:{sjxid:"1747.2478291019797","class":"todoapp"},children:[{tag:"header",attrs:{sjxid:"1329.2763624340296","class":"header"},children:[{tag:"h1",attrs:{sjxid:"1948.2462899759412"},children:["todos"]},{tag:"input",attrs:{sjxid:"600.102256052196",className:"new-todo",id:"new-todo",onClick:this.resetEditing.bind(this),onKeyDown:this.handleNewTodoKeyDown.bind(this,"new-todo"),placeholder:"What needs to be done?",autofocus:!0}}]},{tag:"section",attrs:{sjxid:"127.69400328397751",className:"main"},children:[{tag:"input",attrs:{sjxid:"1365.3314355760813",className:"toggle-all",type:"checkbox",onClick:this.toggleAll.bind(this)}},{tag:"label",attrs:{sjxid:"636.2718753516674","for":"toggle-all"},children:["Mark all as complete"]},{tag:"ul",attrs:{sjxid:"777.6814885437489",className:"todo-list"},children:[this.listTodos()]}]},{tag:"footer",attrs:{sjxid:"713.8897101394832","class":"footer"},children:[{tag:"span",attrs:{sjxid:"711.9741085916758","class":"todo-count"},children:[this.state.messages.length,1===this.state.messages.length?" item":" items"," remaining"]},{tag:"ul",attrs:{sjxid:"1562.3554470948875","class":"filters"},children:[{tag:"li",attrs:{sjxid:"972.7517338469625"},children:[{tag:"a",attrs:{sjxid:"1456.2164023518562",href:"#/all","class":t},children:["All"]}]},{tag:"li",attrs:{sjxid:"1546.7674331739545"},children:[{tag:"a",attrs:{sjxid:"222.31124807149172",href:"#/active","class":e},children:["Active"]}]},{tag:"li",attrs:{sjxid:"337.18462055549026"},children:[{tag:"a",attrs:{sjxid:"953.8413207046688",href:"#/completed","class":s},children:["Completed"]}]}]},{tag:"button",attrs:{sjxid:"1373.032454866916","class":"clear-completed",onClick:this.destroyCompleted.bind(this)},children:["Clear completed"]}]}]}}});t.exports=l}])});